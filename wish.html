<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»™èèçš„ä¸“å±æƒŠå–œ â¤ï¸</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "å¾®è½¯é›…é»‘", "å¹¼åœ†"; }
        body {
            background: #ffc2d1;
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }

        /* 1. åˆå§‹æç¤º - å¼ºåˆ¶æ˜¾ç¤ºï¼Œç»å¯¹å±…ä¸­ */
        #clickTip {
            font-size: 40px;
            color: #fff;
            font-weight: bold;
            letter-spacing: 10px;
            text-align: center;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            /* å¼ºåˆ¶æ˜¾ç¤ºï¼Œä¼˜å…ˆçº§æœ€é«˜ */
            display: block !important;
        }

        /* 2. å­—å¹•å®¹å™¨ - å›ºå®šå±…ä¸­ */
        #subtitleBox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 90;
        }
        .subtitle {
            font-size: 70px;
            color: #fff;
            -webkit-text-stroke: 1px #ff6699;
            letter-spacing: 15px;
            text-align: center;
            display: none;
        }

        /* 3. è›‹ç³•æ ·å¼ - èœ¡çƒ›æœä¸Šï¼Œç®€åŒ–ä½†æ­£ç¡® */
        #cakeBox {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
            z-index: 80;
        }
        .cake {
            width: 200px;
            text-align: center;
        }
        .cake-base { /* åº•åº§åœ¨ä¸‹ */
            width: 200px;
            height: 20px;
            background: #f0e6e0;
            border-radius: 4px;
        }
        .cake-body { /* è›‹ç³•ä½“åœ¨åº•åº§ä¸Š */
            width: 180px;
            height: 40px;
            background: #fbcfe8;
            margin: 0 auto;
            border-radius: 4px;
        }
        .candle { /* èœ¡çƒ›åœ¨è›‹ç³•é¡¶éƒ¨ï¼Œæœä¸Š */
            width: 10px;
            height: 30px;
            background: #fff;
            margin: 0 auto;
            margin-top: -10px;
            border-radius: 2px 2px 0 0;
        }
        .flame { /* ç«ç„°åœ¨èœ¡çƒ›é¡¶ç«¯ */
            width: 12px;
            height: 20px;
            background: #ffd700;
            margin: 0 auto;
            margin-top: -8px;
            border-radius: 50%;
            box-shadow: 0 0 10px #ff9900;
            animation: flame 1s infinite alternate;
        }
        @keyframes flame {
            0% { transform: scale(0.9); }
            100% { transform: scale(1.1); }
        }

        /* 4. äº¤äº’æŒ‰é’® */
        #btnBox {
            position: absolute;
            bottom: 20%;
            left: 50%;
            transform: translateX(-50%);
            display: none;
            gap: 30px;
        }
        .btn {
            padding: 10px 25px;
            border: 2px solid #fff;
            background: transparent;
            color: #fff;
            border-radius: 30px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- 1. éŸ³é¢‘ï¼ˆæ­£ç¡®é—­åˆï¼‰ -->
    <audio id="music" preload="auto">
        <source src="jimo.mp3" type="audio/mpeg">
    </audio>

    <!-- 2. åˆå§‹æç¤ºï¼ˆå¿…æ˜¾ï¼‰ -->
    <div id="clickTip">ç‚¹å‡»é¡µé¢è·å–ç¥ç¦ â¤ï¸</div>

    <!-- 3. å­—å¹•å®¹å™¨ -->
    <div id="subtitleBox">
        <div class="subtitle" id="s1">Hiå®å®</div>
        <div class="subtitle" id="s2">ç¥ä½ </div>
        <div class="subtitle" id="s3">ç”Ÿæ—¥å¿«ä¹</div>
        <div class="subtitle" id="s4">Happy Birthday</div>
        <div class="subtitle" id="s5">3</div>
        <div class="subtitle" id="s6">2</div>
        <div class="subtitle" id="s7">1</div>
    </div>

    <!-- 4. è›‹ç³•å®¹å™¨ -->
    <div id="cakeBox">
        <div class="cake">
            <div class="cake-base"></div> <!-- åº•åº§ -->
            <div class="cake-body"></div> <!-- è›‹ç³•ä½“ -->
            <div class="candle"></div>    <!-- èœ¡çƒ›ï¼ˆæœä¸Šï¼‰ -->
            <div class="flame"></div>     <!-- ç«ç„° -->
        </div>
    </div>

    <!-- 5. äº¤äº’æŒ‰é’® -->
    <div id="btnBox">
        <button class="btn" id="happyBtn">éå¸¸å¿«ä¹</button>
        <button class="btn" id="unhappyBtn">ä¸å¤ªå¼€å¿ƒ</button>
    </div>

    <script>
        // æ ¸å¿ƒå…ƒç´ è·å–ï¼ˆç¡®ä¿èƒ½æ‹¿åˆ°ï¼‰
        const clickTip = document.getElementById('clickTip');
        const subtitleBox = document.getElementById('subtitleBox');
        const cakeBox = document.getElementById('cakeBox');
        const btnBox = document.getElementById('btnBox');
        const music = document.getElementById('music');

        // å­—å¹•åˆ—è¡¨ï¼ˆé¡ºåºå›ºå®šï¼‰
        const subtitles = ['s1','s2','s3','s4','s5','s6','s7'];
        // å­—å¹•æ˜¾ç¤ºæ—¶é•¿
        const times = [1500,1500,1500,1500,1000,1000,1000];

        // æ˜¾ç¤ºå•ä¸ªå­—å¹•
        function showSub(idx) {
            // éšè—æ‰€æœ‰å­—å¹•
            document.querySelectorAll('.subtitle').forEach(s => s.style.display = 'none');
            // æ˜¾ç¤ºå½“å‰å­—å¹•
            document.getElementById(subtitles[idx]).style.display = 'block';
            
            // ä¸‹ä¸€ä¸ªå­—å¹•
            if(idx < subtitles.length -1) {
                setTimeout(() => showSub(idx+1), times[idx]);
            } else {
                // å­—å¹•æ’­æ”¾å®Œï¼Œæ˜¾ç¤ºè›‹ç³•+éŸ³ä¹+æŒ‰é’®
                setTimeout(() => {
                    subtitleBox.style.display = 'none';
                    cakeBox.style.display = 'block';
                    btnBox.style.display = 'flex';
                    // æ’­æ”¾éŸ³ä¹ï¼ˆå…¼å®¹æµè§ˆå™¨é™åˆ¶ï¼‰
                    try { music.play(); } 
                    catch (e) { alert('è¯·ç‚¹å‡»é¡µé¢æ’­æ”¾éŸ³ä¹~'); music.play(); }
                }, times[idx]);
            }
        }

        // é¡µé¢ç‚¹å‡»å¯åŠ¨æµç¨‹
        document.body.addEventListener('click', function() {
            clickTip.style.display = 'none'; // éšè—åˆå§‹æç¤º
            subtitleBox.style.display = 'flex'; // æ˜¾ç¤ºå­—å¹•å®¹å™¨
            showSub(0); // å¼€å§‹æ’­æ”¾ç¬¬ä¸€ä¸ªå­—å¹•
        }, { once: true });

        // æŒ‰é’®äº‹ä»¶
        document.getElementById('unhappyBtn').onclick = () => alert('èå®å®ä¸å…è®¸ä¸å¼€å¿ƒå“¦~');
        document.getElementById('happyBtn').onclick = () => {
            music.pause();
            alert('ğŸ‰ ç”Ÿæ—¥å¿«ä¹æˆ‘çš„èå®å®ï¼ğŸ‚');
        };

        // è°ƒè¯•ï¼šç¡®ä¿JSæ‰§è¡Œ
        console.log('é¡µé¢åŠ è½½å®Œæˆï¼Œæ‰€æœ‰å…ƒç´ å·²åˆå§‹åŒ–');
    </script>
</body>
</html>
